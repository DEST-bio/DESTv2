Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 100
Job counts:
	count	jobs
	1	all
	1	annotate
	1	gatherPoolSnp
	4	runSNP_calling
	7
Select jobs to execute...

[Mon Jan 16 17:09:19 2023]
rule runSNP_calling:
    input: /scratch/aob2x/DESTv2_output/jobs.csv, /project/berglandlab/DEST/dest_mapped
    output: /scratch/aob2x/DESTv2_output/sub_vcfs/2L_137509_275016.all.PoolSNP.001.5.test.vcf.gz
    jobid: 4
    wildcards: jobid=2L_137509_275016, popset=all, method=PoolSNP, maf=001, mac=5, version=test
    resources: ntasks_per_node=4, memory_limit=36, time_limit=120, log_dir=/scratch/aob2x/DESTv2_output/logs

Submitted job 4 with external jobid 'Submitted batch job 46005352'.

[Mon Jan 16 17:09:20 2023]
rule runSNP_calling:
    input: /scratch/aob2x/DESTv2_output/jobs.csv, /project/berglandlab/DEST/dest_mapped
    output: /scratch/aob2x/DESTv2_output/sub_vcfs/2L_275017_412524.all.PoolSNP.001.5.test.vcf.gz
    jobid: 5
    wildcards: jobid=2L_275017_412524, popset=all, method=PoolSNP, maf=001, mac=5, version=test
    resources: ntasks_per_node=4, memory_limit=36, time_limit=120, log_dir=/scratch/aob2x/DESTv2_output/logs

Submitted job 5 with external jobid 'Submitted batch job 46005353'.

[Mon Jan 16 17:09:21 2023]
rule runSNP_calling:
    input: /scratch/aob2x/DESTv2_output/jobs.csv, /project/berglandlab/DEST/dest_mapped
    output: /scratch/aob2x/DESTv2_output/sub_vcfs/2L_412525_550032.all.PoolSNP.001.5.test.vcf.gz
    jobid: 6
    wildcards: jobid=2L_412525_550032, popset=all, method=PoolSNP, maf=001, mac=5, version=test
    resources: ntasks_per_node=4, memory_limit=36, time_limit=120, log_dir=/scratch/aob2x/DESTv2_output/logs

Submitted job 6 with external jobid 'Submitted batch job 46005354'.

[Mon Jan 16 17:09:21 2023]
rule runSNP_calling:
    input: /scratch/aob2x/DESTv2_output/jobs.csv, /project/berglandlab/DEST/dest_mapped
    output: /scratch/aob2x/DESTv2_output/sub_vcfs/2L_1_137508.all.PoolSNP.001.5.test.vcf.gz
    jobid: 3
    wildcards: jobid=2L_1_137508, popset=all, method=PoolSNP, maf=001, mac=5, version=test
    resources: ntasks_per_node=4, memory_limit=36, time_limit=120, log_dir=/scratch/aob2x/DESTv2_output/logs

Submitted job 3 with external jobid 'Submitted batch job 46005355'.
[Mon Jan 16 17:45:31 2023]
Finished job 3.
1 of 7 steps (14%) done
[Mon Jan 16 17:51:01 2023]
Finished job 5.
2 of 7 steps (29%) done
[Mon Jan 16 17:52:11 2023]
Finished job 4.
3 of 7 steps (43%) done
[Mon Jan 16 17:52:42 2023]
Finished job 6.
4 of 7 steps (57%) done
Select jobs to execute...

[Mon Jan 16 17:52:42 2023]
rule gatherPoolSnp:
    input: /scratch/aob2x/DESTv2_output/sub_vcfs/2L_1_137508.all.PoolSNP.001.5.test.vcf.gz, /scratch/aob2x/DESTv2_output/sub_vcfs/2L_137509_275016.all.PoolSNP.001.5.test.vcf.gz, /scratch/aob2x/DESTv2_output/sub_vcfs/2L_275017_412524.all.PoolSNP.001.5.test.vcf.gz, /scratch/aob2x/DESTv2_output/sub_vcfs/2L_412525_550032.all.PoolSNP.001.5.test.vcf.gz, /scratch/aob2x/DESTv2_output/sub_vcfs/2L_550033_687540.all.PoolSNP.001.5.test.vcf.gz, /scratch/aob2x/DESTv2_output/sub_vcfs/2L_687541_825048.all.PoolSNP.001.5.test.vcf.gz
    output: /scratch/aob2x/DESTv2_output/sub_bcf/dest.2L.all.PoolSNP.001.5.test.bcf
    jobid: 2
    wildcards: chr=2L, popSet=all, method=PoolSNP, maf=001, mac=5, version=test
    resources: ntasks_per_node=20, memory_limit=36, time_limit=240, log_dir=/scratch/aob2x/DESTv2_output/logs

Submitted job 2 with external jobid 'Submitted batch job 46005508'.
[Mon Jan 16 17:52:52 2023]
Error in rule gatherPoolSnp:
    jobid: 2
    output: /scratch/aob2x/DESTv2_output/sub_bcf/dest.2L.all.PoolSNP.001.5.test.bcf
    shell:
        bash scatter_gather_annotate/gather.sh all PoolSNP 001 5 test /scratch/aob2x/DESTv2_output 2L
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 46005508

Error executing rule gatherPoolSnp on cluster (jobid: 2, external: Submitted batch job 46005508, jobscript: /gpfs/gpfs0/scratch/aob2x/DESTv2/snpCalling/.snakemake/tmp.6lxeeone/snakejob.gatherPoolSnp.2.sh). For error details see the cluster log and the log files of the involved rule(s).
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /gpfs/gpfs0/scratch/aob2x/DESTv2/snpCalling/.snakemake/log/2023-01-16T170918.311529.snakemake.log
